{"head":{"description":"Controller The PIE Controller is logic that can be provided by your PIE to set the model for the PIE Element for the user interface and toâ€¦"},"body":"<h1 id=\"controller\"><a href=\"#controller\" class=\"phenomic-HeadingAnchor\">#</a>Controller</h1>\n<p>The PIE Controller is logic that can be provided by your PIE to set the model for the PIE Element for the user interface and to process a user's session to provide an outcome. </p>\n<p>This module should export two functions, <code>model</code> and <code>outcome</code></p>\n<pre><code class=\"hljs language-javascript\"><span class=\"hljs-keyword\">export</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">model</span>(<span class=\"hljs-params\">config, session, env</span>) </span>{\n  <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-built_in\">Promise</span>(<span class=\"hljs-function\">(<span class=\"hljs-params\">resolve, reject</span>) =></span> {\n    <span class=\"hljs-comment\">//...</span>\n  });\n}\n\n<span class=\"hljs-keyword\">export</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">outcome</span>(<span class=\"hljs-params\">config, session, env</span>) </span>{\n  <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-built_in\">Promise</span>(<span class=\"hljs-function\">(<span class=\"hljs-params\">resolve, reject</span>) =></span> {\n    <span class=\"hljs-comment\">//...</span>\n  });\n\n}</code></pre>\n<h2 id=\"modelconfig-session-env-promise\"><a href=\"#modelconfig-session-env-promise\" class=\"phenomic-HeadingAnchor\">#</a><code>model(config, session, env): Promise&#x3C;{}></code></h2>\n<p>This function builds the <code>model</code>  used by the PIE Element to render the ui. Think of it as the ui model. </p>\n<p>The output of this function is dependent on the <code>pie</code> and how it builds a ui. The key thing is that this method will only return an appropriate model for the env settings. For example if <code>env.mode</code> is <code>gather</code> or <code>view</code> the returned model should not contain any data that would indicate what the correct response might be.</p>\n<h2 id=\"outcomeconfig-session-env--promise\"><a href=\"#outcomeconfig-session-env--promise\" class=\"phenomic-HeadingAnchor\">#</a><code>outcome(config, session, env) : Promise&#x3C;{}></code></h2>\n<p>The outcome function provides a result of the user's interaction with the PIE</p>\n<p>The result should have the following properties; </p>\n<table>\n<thead>\n<tr>\n<th>Property</th>\n<th>Type</th>\n<th>Description</th>\n<th>Required</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>score</td>\n<td>number</td>\n<td>The score between 0.0 - 1.0 for the session</td>\n<td>Optional</td>\n</tr>\n<tr>\n<td>completed</td>\n<td>Boolean</td>\n<td>Indicates whether or not the Activity was completed.</td>\n<td>Optional</td>\n</tr>\n<tr>\n<td>extensions</td>\n<td>Object</td>\n<td><draft>\n xAPI style extension to Object model for outcome</td>\n<td>Optional</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"parameters\"><a href=\"#parameters\" class=\"phenomic-HeadingAnchor\">#</a>parameters</h2>\n<p>Both methods share the following parameters.</p>\n<h3 id=\"config\"><a href=\"#config\" class=\"phenomic-HeadingAnchor\">#</a>config</h3>\n<p>This is the definition of the question/configuration for the question as provided by the author using the PIE to create an interaction or question.</p>\n<p>It is up to you as the PIE developer to define what the structure of this object should be based on the needs of the interaction type.</p>\n<h3 id=\"session\"><a href=\"#session\" class=\"phenomic-HeadingAnchor\">#</a>session</h3>\n<p>This is the state of a users' response/interaction with the PIE. The PIE developer defines the structure of this object and uses it to store user responses or other data about the user's interaction.</p>\n<h3 id=\"env\"><a href=\"#env\" class=\"phenomic-HeadingAnchor\">#</a>env</h3>\n<p>This object provides parameters that describe the current context in which a user is using the PIE.</p>\n<p>See <a href=\"environment.md\">environment</a> page for more information.</p>\n","__filename":"docs/developing/controller.md","__url":"/docs/developing/controller/","__resourceUrl":"/docs/developing/controller/index.html","__dataUrl":"/docs/developing/controller/index.html.6003d8e7e3b4f6609ef1235819f59a20.json"}